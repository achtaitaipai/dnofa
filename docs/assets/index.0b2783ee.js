var a=Object.defineProperty;var c=(o,e,s)=>e in o?a(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s;var i=(o,e,s)=>(c(o,typeof e!="symbol"?e+"":e,s),s);const u=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}};u();class d{constructor(){i(this,"_openBtn");i(this,"_closeBtn");i(this,"_menu");i(this,"_firstFocusableElement");i(this,"_lastFocusableElement");this._openBtn=document.querySelector("#openBtn-js"),this._closeBtn=document.querySelector("#closeBtn-js"),this._menu=document.querySelector("#menu-principal");const e=Array.from(this._menu.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'));this._firstFocusableElement=e[0],this._lastFocusableElement=e[e.length-1],console.log(this._firstFocusableElement),this._openBtn.addEventListener("click",s=>this._open(s)),this._closeBtn.addEventListener("click",s=>this._close(s)),this._menu.addEventListener("keydown",s=>this._keyDown(s))}_keyDown(e){e.code==="Escape"?this._close():e.code==="Tab"&&(e.shiftKey&&document.activeElement===this._firstFocusableElement?(this._lastFocusableElement.focus(),e.preventDefault()):document.activeElement===this._lastFocusableElement&&(this._firstFocusableElement.focus(),e.preventDefault()))}_open(e){e.preventDefault(),this._menu.style.setProperty("display","flex"),this._menu.classList.remove("nav-closed"),this._menu.classList.add("nav-open"),this._firstFocusableElement.focus(),this._openBtn.setAttribute("aria-expanded","true"),this._closeBtn.setAttribute("aria-expanded","true"),document.body.style.setProperty("overflow-y","hidden")}_close(e){e==null||e.preventDefault(),this._menu.style.setProperty("animation-play-state","running"),this._menu.classList.remove("nav-open"),this._menu.classList.add("nav-closed"),this._openBtn.setAttribute("aria-expanded","false"),this._closeBtn.setAttribute("aria-expanded","false"),this._openBtn.focus(),document.body.style.setProperty("overflow-y","auto")}}new d;
